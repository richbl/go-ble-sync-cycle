<p align="center">
<picture><source media="(prefers-color-scheme: dark)" srcset="https://github.com/user-attachments/assets/12027074-e126-48d1-b9e5-25850e39dd62"><source media="(prefers-color-scheme: light)" srcset="https://github.com/user-attachments/assets/12027074-e126-48d1-b9e5-25850e39dd62"><img src="[https://github.com/user-attachments/assets/12027074-e126-48d1-b9e5-25850e39dd62](https://github.com/user-attachments/assets/12027074-e126-48d1-b9e5-25850e39dd62)" width=300></picture>
</p>

### GTK4/Adwaita Integration

In order for the application to run with the option for a graphical user interface (GUI), two Go-based GTK4/Adwaita package dependencies are required. While these packages will get installed automatically during project setup, **they require a one-time C-based compilation, which can take ~15-20 minutes to complete**. Please be patient.

> For the curious, the package used by the Go language for managing C-based sources--such as those used in the GTK4 projects above--is called [`cgo`](https://pkg.go.dev/cmd/cgo).

### Optional: Managing Cgo Runtime Warnings

As of this writing, a number of runtime warnings are generated by the `cgo` package which can visually interfere with the application runtime/logging output. If it's desired to suppress these compiler package warnings, be sure to set the following environment variable before building the application:

```console
export CGO_CFLAGS="-w"
```

Note that this export is not required for a successful build: it simply removes any external package warnings from being displayed when running the`ble-sync-cycle` executable

### Finally... Compiling the Application

1. Clone the repository and then change into the project directory:

    ```console
    git clone https://github.com/richbl/go-ble-sync-cycle
    cd go-ble-sync-cycle
    ```

2. Install Go package dependencies for the project:

    ```console
    go mod tidy
    ```

3. Build the application:

    ```console
    go build -v -o ble-sync-cycle cmd/*
    ```

    > Note the use of the `-v` (or `--verbose`) flag. This is useful the very first time the application is compiled, as it can take time to compile the application (~15-20 minutes). While this flag is optional, it's helpful to visually track the progression of the build process

    To build an optimized executable (reduced binary size), run the following command:

    ```console
    go build -ldflags="-s -w" -v -o ble-sync-cycle cmd/*
    ```

    The resulting `build` command will create the`ble-sync-cycle` executable in the current directory.
